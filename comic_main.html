<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="example.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="perfect-scrollbar.css" />
    <script src="perfect-scrollbar.js"></script>

    <script type="text/javascript">
      var params = (new URL(document.location)).searchParams;

      console.log(params)

      var comicId  = params.get('comic_id');
      var request = new XMLHttpRequest();

      console.log(comicId);
      const url = ("https://wfc2-image-api-259809.appspot.com/api/books/" + comicId + "/")
      console.log(url)

      request.open('GET', url , true);
      request.responseType = 'json';

      request.onload = function () {
          var data = this.response;

           // スライダーページネーション 
          // setMax(data.imageData.length);

          for(let i = 0; i < data.imageData.length; i++) {
            const div_book = document.getElementById("div_book");

            const img = document.createElement("img"); 
            img.setAttribute("id", i + 1);  
            img.setAttribute("src", data.imageData[i].imageUrl);
            img.setAttribute("class", "show_image");

            div_book.appendChild(img)

          }
          console.log(data);
      };
      request.send(); 

      // function setMax( $max ) {
      //     var $elementReference = document.getElementById( "sample" );
      //     $elementReference.max = $max;
      //     var $max = $elementReference.max;
      //     var $value = $elementReference.value;
      // }

      // function getValue() {
      //     var $elementReference = document.getElementById( "sample" );
      //     var $value = $elementReference.value;
      //     redirectToPage( $value )
      // }

      // function redirectToPage( $value ) {
      //   var new_url = window.location.href + "#" + $value
      //   window.location.href =  new_url        
      // }

    </script>

    <title>漫画ビューアー</title>
</head>

<div class="row background">
  <div class="col-lg-3 col-xs-0"></div>
  <div class="col-lg-6 col-xs-12 center"">

    <div id="div_book"></div>

    <!-- <input type="range" value="0" id="sample"  onchange="getValue()"> -->

  <div class="col-lg-3 col-xs-0"></div>
</div>


